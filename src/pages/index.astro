---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import Carousel from "../components/Carousel.jsx";
import HeroImg from "../assets/home_bg.png";
import { Image } from "astro:assets";
---

<!doctype html>
<html lang="en">
  <head>
    <script>
      const lines = [
        "Welcome To Aura",
        "The Machine Learning Club of PES University",
      ];
      let lineIndex = 0;
      let wordIndex = 0;
      let charIndex = 0;

      function typeText(interval: number) {
        const currentLine = lines[lineIndex];
        const words = currentLine.split(" ");

        if (charIndex < words[wordIndex].length) {
          document.getElementById(`line${lineIndex + 1}`)!.textContent +=
            words[wordIndex][charIndex];
          charIndex++;
        } else {
          document.getElementById(`line${lineIndex + 1}`)!.textContent += " "; // Add space between words
          charIndex = 0;
          wordIndex++;
        }

        if (wordIndex >= words.length) {
          lineIndex++;
          wordIndex = 0;
          if (lineIndex >= lines.length) {
            return;
          }
        }

        setTimeout(typeText, interval);
      }

      // Set an interval to call the typeText function
      typeText(100);
    </script>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <Header title={SITE_TITLE} />
    <main class="w-full">
      <div class="flex flex-col lg:flex-row justify-between items-center gap-8">
        <div
          class="text-container my-4 md:my-20 w-full lg:w-1/3 mx-auto text-center"
        >
          <h1 id="line1" class="text-green-600 text-5xl"></h1>
          <h1 id="line2" class="text-gray-800 text-3xl"></h1>
        </div>
        <Image
          src={HeroImg}
          alt="Aura logo"
          class="w-56 lg:w-80 object-contain rounded-none"
        />
        <Carousel client:load />
      </div>
    </main>
    <Footer />
  </body>
</html>
